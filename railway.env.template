# Railway Environment Variables Template
# Copy these variables to your Railway service settings

# ============================================
# REQUIRED - Supabase Database Connection
# ============================================
# Get your SUPABASE_URL from: https://supabase.com/dashboard/project/<project-id>/settings/api
SUPABASE_URL=https://your-project.supabase.co

# ⚠️ CRITICAL: Use SERVICE ROLE key, NOT anon key!
# Find at: https://supabase.com/dashboard/project/<project-id>/settings/api
# Look for "service_role" under "Project API keys" section
SUPABASE_SERVICE_KEY=your-service-role-key-here

# ============================================
# REQUIRED - LLM Provider (at least one)
# ============================================
# OpenAI API key for GPT models
OPENAI_API_KEY=sk-...

# Anthropic API key for Claude models (recommended)
ANTHROPIC_API_KEY=sk-ant-...

# ============================================
# OPTIONAL - Observability & Monitoring
# ============================================
# Sentry for error tracking (recommended for production)
SENTRY_DSN=https://...@sentry.io/...

# OpenTelemetry endpoint for distributed tracing
OTEL_EXPORTER_OTLP_ENDPOINT=https://api.honeycomb.io

# Logfire for structured logging
LOGFIRE_TOKEN=your-logfire-token

# ============================================
# APPLICATION SETTINGS
# ============================================
# Environment (production, staging, development)
ENVIRONMENT=production

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================
# SERVICE PORTS (Railway auto-assigns PORT)
# ============================================
# Railway will inject $PORT - these are internal container ports
ARCHON_SERVER_PORT=8181
ARCHON_MCP_PORT=8051
ARCHON_AGENTS_PORT=8052
ARCHON_UI_PORT=3737

# ============================================
# SERVICE DISCOVERY
# ============================================
# Set to 'railway' for Railway deployment
SERVICE_DISCOVERY_MODE=railway

# Railway provides these automatically:
# RAILWAY_ENVIRONMENT_NAME
# RAILWAY_PROJECT_NAME
# RAILWAY_SERVICE_NAME
# RAILWAY_REPLICA_ID

# ============================================
# FEATURE FLAGS
# ============================================
# Enable AI agents service (requires more resources)
AGENTS_ENABLED=true

# Enable Claude caching for cost optimization
ENABLE_CLAUDE_CACHING=true

# ============================================
# FRONTEND CONFIGURATION
# ============================================
# Production mode enables API proxying through frontend
PROD=true

# Show TanStack Query DevTools (set to false for production)
VITE_SHOW_DEVTOOLS=false

# Allowed hosts for CORS (comma-separated)
VITE_ALLOWED_HOSTS=

# ============================================
# RAILWAY-SPECIFIC OPTIMIZATIONS
# ============================================
# Number of Uvicorn workers (1 recommended for Railway)
WEB_CONCURRENCY=1

# Playwright browser path
PLAYWRIGHT_BROWSERS_PATH=/ms-playwright

# Python unbuffered output for better logging
PYTHONUNBUFFERED=1

# ============================================
# OPTIONAL - RAG & Crawler Settings
# ============================================
# These can be managed via Settings UI instead
# CRAWL_MAX_CONCURRENT=10
# CRAWL_BATCH_SIZE=50
# MEMORY_THRESHOLD_PERCENT=80
# DISPATCHER_CHECK_INTERVAL=0.5
